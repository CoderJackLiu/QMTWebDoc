<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XtQuant 查询接口模块</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            min-height: 100vh;
        }
        
        .sidebar {
            width: 280px;
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }
        
        .sidebar-header {
            padding: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .sidebar-header h2 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .sidebar-header p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .nav-menu {
            padding: 20px 0;
        }
        
        .nav-section {
            margin-bottom: 20px;
        }
        
        .nav-section h3 {
            padding: 10px 20px;
            font-size: 0.9rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 1px solid #eee;
        }
        
        .nav-section ul {
            list-style: none;
        }
        
        .nav-section li {
            margin: 2px 0;
        }
        
        .nav-section a {
            display: block;
            padding: 8px 20px;
            color: #555;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .nav-section a:hover {
            background: #f0f0f0;
            color: #667eea;
            padding-left: 25px;
        }
        
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 40px;
        }
        
        .page-header {
            margin-bottom: 40px;
            text-align: center;
        }
        
        .page-header h1 {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .page-header p {
            font-size: 1.1rem;
            color: #666;
        }
        
        .api-section {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .api-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
            font-size: 1.8rem;
        }
        
        .api-method {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            background: #fafbfc;
        }
        
        .api-method h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .method-signature {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            margin-bottom: 15px;
            overflow-x: auto;
        }
        
        .method-info {
            margin-bottom: 15px;
        }
        
        .method-info h4 {
            color: #4a5568;
            margin-bottom: 8px;
            font-size: 1rem;
        }
        
        .method-info p, .method-info li {
            color: #666;
            line-height: 1.6;
        }
        
        .method-info ul {
            margin-left: 20px;
        }
        
        .code-example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            margin-top: 15px;
            overflow-x: auto;
        }
        
        .back-link {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            margin-bottom: 30px;
            transition: all 0.3s ease;
        }
        
        .back-link:hover {
            background: linear-gradient(135deg, #5a6fd8, #6a4190);
            transform: translateY(-2px);
        }
        
        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .highlight strong {
            color: #856404;
        }
        
        .info-box {
            background: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .info-box strong {
            color: #0c5460;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .data-table th, .data-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        
        .data-table th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>查询接口模块</h2>
                <p>各类查询API接口</p>
            </div>
            <nav class="nav-menu">
                <div class="nav-section">
                    <h3>资产查询</h3>
                    <ul>
                        <li><a href="#query_stock_asset">股票资产查询</a></li>
                        <li><a href="#query_com_fund">资金查询</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>持仓查询</h3>
                    <ul>
                        <li><a href="#query_stock_positions">股票持仓查询</a></li>
                        <li><a href="#query_position_statistics">持仓统计查询</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>订单查询</h3>
                    <ul>
                        <li><a href="#query_stock_orders">股票订单查询</a></li>
                        <li><a href="#query_stock_trades">股票成交查询</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>账户查询</h3>
                    <ul>
                        <li><a href="#query_account_infos">账户信息查询</a></li>
                        <li><a href="#query_account_status">账户状态查询</a></li>
                    </ul>
                </div>
            </nav>
        </div>
        
        <div class="main-content">
            <a href="xtquant_api_modules.html" class="back-link">← 返回模块首页</a>
            
            <div class="page-header">
                <h1>查询接口模块</h1>
                <p>股票交易相关的各类查询API接口</p>
            </div>
            
            <div class="api-section">
                <h2>资产查询</h2>
                
                <div class="api-method" id="query_stock_asset">
                    <h3>股票资产查询</h3>
                    <div class="method-signature">query_stock_asset(account)</div>
                    
                    <div class="method-info">
                        <h4>功能说明</h4>
                        <p>查询指定账户的股票资产信息，包括总资产、可用资金、持仓市值等。</p>
                        
                        <h4>参数</h4>
                        <ul>
                            <li><strong>account</strong> (StockAccount): 资金账号对象</li>
                        </ul>
                        
                        <h4>返回值</h4>
                        <p>dict - 股票资产数据</p>
                        
                        <table class="data-table">
                            <tr>
                                <th>字段</th>
                                <th>类型</th>
                                <th>说明</th>
                            </tr>
                            <tr>
                                <td>accountID</td>
                                <td>str</td>
                                <td>账户ID</td>
                            </tr>
                            <tr>
                                <td>totalAsset</td>
                                <td>float</td>
                                <td>总资产</td>
                            </tr>
                            <tr>
                                <td>cash</td>
                                <td>float</td>
                                <td>可用资金</td>
                            </tr>
                            <tr>
                                <td>marketValue</td>
                                <td>float</td>
                                <td>持仓市值</td>
                            </tr>
                            <tr>
                                <td>frozenCash</td>
                                <td>float</td>
                                <td>冻结资金</td>
                            </tr>
                        </table>
                        
                        <h4>示例代码</h4>
                        <div class="code-example">
# 查询股票资产
account = StockAccount('123456789')
asset = xt_trader.query_stock_asset(account)

if asset:
    print(f"账户ID: {asset['accountID']}")
    print(f"总资产: {asset['totalAsset']:,.2f}")
    print(f"可用资金: {asset['cash']:,.2f}")
    print(f"持仓市值: {asset['marketValue']:,.2f}")
    print(f"冻结资金: {asset['frozenCash']:,.2f}")
else:
    print("查询资产失败")
                        </div>
                    </div>
                </div>
                
                <div class="api-method" id="query_com_fund">
                    <h3>资金查询</h3>
                    <div class="method-signature">query_com_fund(account)</div>
                    
                    <div class="method-info">
                        <h4>功能说明</h4>
                        <p>查询账户的详细资金信息，包括各种资金状态和可用情况。</p>
                        
                        <h4>参数</h4>
                        <ul>
                            <li><strong>account</strong> (StockAccount): 资金账号对象</li>
                        </ul>
                        
                        <h4>返回值</h4>
                        <p>dict - 资金详细信息</p>
                        
                        <table class="data-table">
                            <tr>
                                <th>字段</th>
                                <th>类型</th>
                                <th>说明</th>
                            </tr>
                            <tr>
                                <td>accountID</td>
                                <td>str</td>
                                <td>账户ID</td>
                            </tr>
                            <tr>
                                <td>availableCash</td>
                                <td>float</td>
                                <td>可用资金</td>
                            </tr>
                            <tr>
                                <td>totalCash</td>
                                <td>float</td>
                                <td>总资金</td>
                            </tr>
                            <tr>
                                <td>frozenCash</td>
                                <td>float</td>
                                <td>冻结资金</td>
                            </tr>
                            <tr>
                                <td>withdrawableCash</td>
                                <td>float</td>
                                <td>可取资金</td>
                            </tr>
                        </table>
                        
                        <h4>示例代码</h4>
                        <div class="code-example">
# 查询资金信息
account = StockAccount('123456789')
fund = xt_trader.query_com_fund(account)

if fund:
    print(f"账户ID: {fund['accountID']}")
    print(f"总资金: {fund['totalCash']:,.2f}")
    print(f"可用资金: {fund['availableCash']:,.2f}")
    print(f"冻结资金: {fund['frozenCash']:,.2f}")
    print(f"可取资金: {fund['withdrawableCash']:,.2f}")
else:
    print("查询资金失败")
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="api-section">
                <h2>持仓查询</h2>
                
                <div class="api-method" id="query_stock_positions">
                    <h3>股票持仓查询</h3>
                    <div class="method-signature">query_stock_positions(account)</div>
                    
                    <div class="method-info">
                        <h4>功能说明</h4>
                        <p>查询指定账户的股票持仓信息，包括持仓数量、成本价、市值等。</p>
                        
                        <h4>参数</h4>
                        <ul>
                            <li><strong>account</strong> (StockAccount): 资金账号对象</li>
                        </ul>
                        
                        <h4>返回值</h4>
                        <p>list - 持仓数据列表</p>
                        
                        <table class="data-table">
                            <tr>
                                <th>字段</th>
                                <th>类型</th>
                                <th>说明</th>
                            </tr>
                            <tr>
                                <td>stockCode</td>
                                <td>str</td>
                                <td>证券代码</td>
                            </tr>
                            <tr>
                                <td>stockName</td>
                                <td>str</td>
                                <td>证券名称</td>
                            </tr>
                            <tr>
                                <td>volume</td>
                                <td>int</td>
                                <td>持仓数量</td>
                            </tr>
                            <tr>
                                <td>canUseVolume</td>
                                <td>int</td>
                                <td>可用数量</td>
                            </tr>
                            <tr>
                                <td>avgPrice</td>
                                <td>float</td>
                                <td>成本价</td>
                            </tr>
                            <tr>
                                <td>marketValue</td>
                                <td>float</td>
                                <td>市值</td>
                            </tr>
                            <tr>
                                <td>pnlRatio</td>
                                <td>float</td>
                                <td>盈亏比例</td>
                            </tr>
                        </table>
                        
                        <h4>示例代码</h4>
                        <div class="code-example">
# 查询股票持仓
account = StockAccount('123456789')
positions = xt_trader.query_stock_positions(account)

if positions:
    print("股票持仓:")
    for pos in positions:
        print(f"\n代码: {pos['stockCode']}")
        print(f"名称: {pos['stockName']}")
        print(f"持仓: {pos['volume']:,} 股")
        print(f"可用: {pos['canUseVolume']:,} 股")
        print(f"成本价: {pos['avgPrice']:.2f}")
        print(f"市值: {pos['marketValue']:,.2f}")
        print(f"盈亏: {pos['pnlRatio']:.2%}")
else:
    print("无持仓或查询失败")
                        </div>
                    </div>
                </div>
                
                <div class="api-method" id="query_position_statistics">
                    <h3>持仓统计查询</h3>
                    <div class="method-signature">query_position_statistics(account)</div>
                    
                    <div class="method-info">
                        <h4>功能说明</h4>
                        <p>查询账户的持仓统计信息，包括总持仓市值、盈亏统计等汇总数据。</p>
                        
                        <h4>参数</h4>
                        <ul>
                            <li><strong>account</strong> (StockAccount): 资金账号对象</li>
                        </ul>
                        
                        <h4>返回值</h4>
                        <p>dict - 持仓统计数据</p>
                        
                        <table class="data-table">
                            <tr>
                                <th>字段</th>
                                <th>类型</th>
                                <th>说明</th>
                            </tr>
                            <tr>
                                <td>accountID</td>
                                <td>str</td>
                                <td>账户ID</td>
                            </tr>
                            <tr>
                                <td>totalMarketValue</td>
                                <td>float</td>
                                <td>总持仓市值</td>
                            </tr>
                            <tr>
                                <td>totalPnl</td>
                                <td>float</td>
                                <td>总盈亏</td>
                            </tr>
                            <tr>
                                <td>totalPnlRatio</td>
                                <td>float</td>
                                <td>总盈亏比例</td>
                            </tr>
                            <tr>
                                <td>stockCount</td>
                                <td>int</td>
                                <td>持仓股票数量</td>
                            </tr>
                        </table>
                        
                        <h4>示例代码</h4>
                        <div class="code-example">
# 查询持仓统计
account = StockAccount('123456789')
stats = xt_trader.query_position_statistics(account)

if stats:
    print(f"账户ID: {stats['accountID']}")
    print(f"持仓股票数: {stats['stockCount']}")
    print(f"总市值: {stats['totalMarketValue']:,.2f}")
    print(f"总盈亏: {stats['totalPnl']:,.2f}")
    print(f"盈亏比例: {stats['totalPnlRatio']:.2%}")
else:
    print("查询持仓统计失败")
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="api-section">
                <h2>订单查询</h2>
                
                <div class="api-method" id="query_stock_orders">
                    <h3>股票订单查询</h3>
                    <div class="method-signature">query_stock_orders(account, cancelable_only=False)</div>
                    
                    <div class="method-info">
                        <h4>功能说明</h4>
                        <p>查询指定账户的股票订单信息，可选择只查询可撤销订单。</p>
                        
                        <h4>参数</h4>
                        <ul>
                            <li><strong>account</strong> (StockAccount): 资金账号对象</li>
                            <li><strong>cancelable_only</strong> (bool): 是否只查询可撤销订单，默认False</li>
                        </ul>
                        
                        <h4>返回值</h4>
                        <p>list - 订单数据列表</p>
                        
                        <table class="data-table">
                            <tr>
                                <th>字段</th>
                                <th>类型</th>
                                <th>说明</th>
                            </tr>
                            <tr>
                                <td>orderID</td>
                                <td>int</td>
                                <td>订单编号</td>
                            </tr>
                            <tr>
                                <td>stockCode</td>
                                <td>str</td>
                                <td>证券代码</td>
                            </tr>
                            <tr>
                                <td>orderType</td>
                                <td>int</td>
                                <td>订单类型</td>
                            </tr>
                            <tr>
                                <td>orderVolume</td>
                                <td>int</td>
                                <td>委托数量</td>
                            </tr>
                            <tr>
                                <td>price</td>
                                <td>float</td>
                                <td>委托价格</td>
                            </tr>
                            <tr>
                                <td>tradedVolume</td>
                                <td>int</td>
                                <td>成交数量</td>
                            </tr>
                            <tr>
                                <td>orderStatus</td>
                                <td>int</td>
                                <td>订单状态</td>
                            </tr>
                            <tr>
                                <td>orderTime</td>
                                <td>str</td>
                                <td>委托时间</td>
                            </tr>
                        </table>
                        
                        <h4>示例代码</h4>
                        <div class="code-example">
# 查询所有订单
account = StockAccount('123456789')
orders = xt_trader.query_stock_orders(account)

if orders:
    print("股票订单:")
    for order in orders:
        order_type_name = "买入" if order['orderType'] == 23 else "卖出"
        status_name = {
            48: "未报", 49: "待报", 50: "已报", 
            51: "已报待撤", 52: "部成待撤", 53: "部撤",
            54: "已撤", 55: "部成", 56: "已成", 57: "废单"
        }.get(order['orderStatus'], "未知")
        
        print(f"\n订单号: {order['orderID']}")
        print(f"代码: {order['stockCode']}")
        print(f"类型: {order_type_name}")
        print(f"委托: {order['orderVolume']:,}股 @ {order['price']:.2f}")
        print(f"成交: {order['tradedVolume']:,}股")
        print(f"状态: {status_name}")
        print(f"时间: {order['orderTime']}")
else:
    print("无订单或查询失败")

# 查询可撤销订单
cancelable_orders = xt_trader.query_stock_orders(account, cancelable_only=True)
print(f"\n可撤销订单数量: {len(cancelable_orders) if cancelable_orders else 0}")
                        </div>
                    </div>
                </div>
                
                <div class="api-method" id="query_stock_trades">
                    <h3>股票成交查询</h3>
                    <div class="method-signature">query_stock_trades(account)</div>
                    
                    <div class="method-info">
                        <h4>功能说明</h4>
                        <p>查询指定账户的股票成交记录，包括成交价格、数量、时间等信息。</p>
                        
                        <h4>参数</h4>
                        <ul>
                            <li><strong>account</strong> (StockAccount): 资金账号对象</li>
                        </ul>
                        
                        <h4>返回值</h4>
                        <p>list - 成交数据列表</p>
                        
                        <table class="data-table">
                            <tr>
                                <th>字段</th>
                                <th>类型</th>
                                <th>说明</th>
                            </tr>
                            <tr>
                                <td>orderID</td>
                                <td>int</td>
                                <td>订单编号</td>
                            </tr>
                            <tr>
                                <td>stockCode</td>
                                <td>str</td>
                                <td>证券代码</td>
                            </tr>
                            <tr>
                                <td>orderType</td>
                                <td>int</td>
                                <td>订单类型</td>
                            </tr>
                            <tr>
                                <td>tradedVolume</td>
                                <td>int</td>
                                <td>成交数量</td>
                            </tr>
                            <tr>
                                <td>tradedPrice</td>
                                <td>float</td>
                                <td>成交价格</td>
                            </tr>
                            <tr>
                                <td>tradedAmount</td>
                                <td>float</td>
                                <td>成交金额</td>
                            </tr>
                            <tr>
                                <td>tradedTime</td>
                                <td>str</td>
                                <td>成交时间</td>
                            </tr>
                        </table>
                        
                        <h4>示例代码</h4>
                        <div class="code-example">
# 查询成交记录
account = StockAccount('123456789')
trades = xt_trader.query_stock_trades(account)

if trades:
    print("成交记录:")
    total_amount = 0
    for trade in trades:
        order_type_name = "买入" if trade['orderType'] == 23 else "卖出"
        
        print(f"\n订单号: {trade['orderID']}")
        print(f"代码: {trade['stockCode']}")
        print(f"类型: {order_type_name}")
        print(f"成交: {trade['tradedVolume']:,}股 @ {trade['tradedPrice']:.2f}")
        print(f"金额: {trade['tradedAmount']:,.2f}")
        print(f"时间: {trade['tradedTime']}")
        
        total_amount += trade['tradedAmount']
    
    print(f"\n总成交金额: {total_amount:,.2f}")
else:
    print("无成交记录或查询失败")
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="api-section">
                <h2>账户查询</h2>
                
                <div class="api-method" id="query_account_infos">
                    <h3>账户信息查询</h3>
                    <div class="method-signature">query_account_infos()</div>
                    
                    <div class="method-info">
                        <h4>功能说明</h4>
                        <p>查询当前连接的所有账户信息，包括账户类型、状态等。</p>
                        
                        <h4>参数</h4>
                        <p>无参数</p>
                        
                        <h4>返回值</h4>
                        <p>list - 账户信息列表</p>
                        
                        <table class="data-table">
                            <tr>
                                <th>字段</th>
                                <th>类型</th>
                                <th>说明</th>
                            </tr>
                            <tr>
                                <td>accountID</td>
                                <td>str</td>
                                <td>账户ID</td>
                            </tr>
                            <tr>
                                <td>accountType</td>
                                <td>int</td>
                                <td>账户类型</td>
                            </tr>
                            <tr>
                                <td>accountName</td>
                                <td>str</td>
                                <td>账户名称</td>
                            </tr>
                            <tr>
                                <td>status</td>
                                <td>int</td>
                                <td>账户状态</td>
                            </tr>
                        </table>
                        
                        <h4>示例代码</h4>
                        <div class="code-example">
# 查询账户信息
accounts = xt_trader.query_account_infos()

if accounts:
    print("账户信息:")
    for acc in accounts:
        account_type_name = {
            0: "股票账户",
            1: "信用账户", 
            2: "期货账户",
            3: "期权账户"
        }.get(acc['accountType'], "未知类型")
        
        status_name = {
            0: "正常",
            1: "冻结",
            2: "注销"
        }.get(acc['status'], "未知状态")
        
        print(f"\n账户ID: {acc['accountID']}")
        print(f"账户名称: {acc['accountName']}")
        print(f"账户类型: {account_type_name}")
        print(f"账户状态: {status_name}")
else:
    print("无账户信息或查询失败")
                        </div>
                    </div>
                </div>
                
                <div class="api-method" id="query_account_status">
                    <h3>账户状态查询</h3>
                    <div class="method-signature">query_account_status(account)</div>
                    
                    <div class="method-info">
                        <h4>功能说明</h4>
                        <p>查询指定账户的详细状态信息，包括交易权限、风险等级等。</p>
                        
                        <h4>参数</h4>
                        <ul>
                            <li><strong>account</strong> (StockAccount): 资金账号对象</li>
                        </ul>
                        
                        <h4>返回值</h4>
                        <p>dict - 账户状态数据</p>
                        
                        <table class="data-table">
                            <tr>
                                <th>字段</th>
                                <th>类型</th>
                                <th>说明</th>
                            </tr>
                            <tr>
                                <td>accountID</td>
                                <td>str</td>
                                <td>账户ID</td>
                            </tr>
                            <tr>
                                <td>status</td>
                                <td>int</td>
                                <td>账户状态</td>
                            </tr>
                            <tr>
                                <td>riskLevel</td>
                                <td>int</td>
                                <td>风险等级</td>
                            </tr>
                            <tr>
                                <td>tradingRights</td>
                                <td>list</td>
                                <td>交易权限列表</td>
                            </tr>
                        </table>
                        
                        <h4>示例代码</h4>
                        <div class="code-example">
# 查询账户状态
account = StockAccount('123456789')
status = xt_trader.query_account_status(account)

if status:
    print(f"账户ID: {status['accountID']}")
    
    status_name = {
        0: "正常",
        1: "冻结", 
        2: "注销"
    }.get(status['status'], "未知状态")
    print(f"账户状态: {status_name}")
    
    risk_level_name = {
        1: "保守型",
        2: "稳健型",
        3: "平衡型", 
        4: "积极型",
        5: "激进型"
    }.get(status['riskLevel'], "未知")
    print(f"风险等级: {risk_level_name}")
    
    if 'tradingRights' in status:
        print("交易权限:")
        for right in status['tradingRights']:
            print(f"  - {right}")
else:
    print("查询账户状态失败")
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>